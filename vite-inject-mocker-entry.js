var Ne=Object.defineProperty;var Le=(r,e,t)=>e in r?Ne(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var R=(r,e,t)=>Le(r,typeof e!="symbol"?e+"":e,t);import{_ as Je}from"./assets/preload-helper-C1FmrZbK.js";class de{constructor(){R(this,"registryByUrl",new Map);R(this,"registryById",new Map)}clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(e){this.registryByUrl.set(e.url,e),this.registryById.set(e.id,e)}register(e,t,n,i,s){const a=typeof e=="object"?e.type:e;if(typeof e=="object"){const o=e;if(o instanceof Y||o instanceof B||o instanceof z||o instanceof X)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${o.type}". Use "registry.add()" to update a mock instead.`);if(o.type==="automock"){const c=Y.fromJSON(o);return this.add(c),c}else if(o.type==="autospy"){const c=B.fromJSON(o);return this.add(c),c}else if(o.type==="redirect"){const c=X.fromJSON(o);return this.add(c),c}else throw o.type==="manual"?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${o.type}`)}if(typeof t!="string")throw new TypeError("[vitest] Mocks require a raw string.");if(typeof i!="string")throw new TypeError("[vitest] Mocks require a url string.");if(typeof n!="string")throw new TypeError("[vitest] Mocks require an id string.");if(a==="manual"){if(typeof s!="function")throw new TypeError("[vitest] Manual mocks require a factory function.");const o=new z(t,n,i,s);return this.add(o),o}else if(a==="automock"||a==="autospy"){const o=a==="automock"?new Y(t,n,i):new B(t,n,i);return this.add(o),o}else if(a==="redirect"){if(typeof s!="string")throw new TypeError("[vitest] Redirect mocks require a redirect string.");const o=new X(t,n,i,s);return this.add(o),o}else throw new Error(`[vitest] Unknown mock type: ${a}`)}delete(e){this.registryByUrl.delete(e)}get(e){return this.registryByUrl.get(e)}getById(e){return this.registryById.get(e)}has(e){return this.registryByUrl.has(e)}}class Y{constructor(e,t,n){R(this,"type","automock");this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new B(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}}class B{constructor(e,t,n){R(this,"type","autospy");this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new B(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}class X{constructor(e,t,n,i){R(this,"type","redirect");this.raw=e,this.id=t,this.url=n,this.redirect=i}static fromJSON(e){return new X(e.raw,e.id,e.url,e.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}}class z{constructor(e,t,n,i){R(this,"cache");R(this,"type","manual");this.raw=e,this.id=t,this.url=n,this.factory=i}async resolve(){if(this.cache)return this.cache;let e;try{e=await this.factory()}catch(t){const n=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw n.cause=t,n}if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=e}static fromJSON(e,t){return new z(e.raw,e.id,e.url,t)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}function Fe(r,e,t={}){const n=new Array,i=new Be,s=(c,f,m)=>{try{return c[f]=m,!0}catch{return!1}},a=(c,f)=>{const m=W(c),y=m==="Module"||!!c.__esModule;for(const{key:g,descriptor:I}of te(c,y,r.globalConstructors)){if(!y&&I.get){try{Object.defineProperty(f,g,I)}catch{}continue}if(Xe(g,m))continue;const T=c[g],l=i.getId(T);if(l!==void 0){n.push(()=>s(f,g,i.getMockedValue(l)));continue}const P=W(T);if(Array.isArray(T)){s(f,g,[]);continue}const $=P.includes("Function")&&typeof T=="function";if((!$||T._isMockFunction)&&P!=="Object"&&P!=="Module"){s(f,g,T);continue}if(s(f,g,$?T:{})){if($){let _=function(){if(this instanceof f[g])for(const{key:S,descriptor:C}of te(this,!1,r.globalConstructors)){if(C.get)continue;const O=this[S];if(W(O).includes("Function")&&typeof O=="function"){const N=this[S],u=A(this,S).mockImplementation(N),x=u.mockReset;u.mockRestore=u.mockReset=()=>(x.call(u),u.mockImplementation(N),u)}}};if(!r.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");const A=r.spyOn,M=A(f,g);if(r.type==="automock"){M.mockImplementation(_);const S=M.mockReset;M.mockRestore=M.mockReset=()=>(S.call(M),M.mockImplementation(_),M)}Object.defineProperty(f[g],"length",{value:0})}i.track(T,f[g]),a(T,f[g])}}},o=t;a(e,o);for(const c of n)c();return o}class Be{constructor(){R(this,"idMap",new Map);R(this,"mockedValueMap",new Map)}getId(e){return this.idMap.get(e)}getMockedValue(e){return this.mockedValueMap.get(e)}track(e,t){const n=this.idMap.size;return this.idMap.set(e,n),this.mockedValueMap.set(n,t),n}}function W(r){return Object.prototype.toString.apply(r).slice(8,-1)}function Xe(r,e){return e.includes("Function")&&typeof r=="string"&&["arguments","callee","caller","length","name"].includes(r)}function te(r,e,t){const{Map:n,Object:i,Function:s,RegExp:a,Array:o}=t,c=new n;let f=r;do{if(f===i.prototype||f===s.prototype||f===a.prototype)break;De(f,m=>{const y=i.getOwnPropertyDescriptor(f,m);y&&c.set(m,{key:m,descriptor:y})})}while(f=i.getPrototypeOf(f));if(e&&!c.has("default")&&"default"in r){const m=i.getOwnPropertyDescriptor(r,"default");m&&c.set("default",{key:"default",descriptor:m})}return o.from(c.values())}function De(r,e){const t=typeof e=="function"?e:n=>e.add(n);Object.getOwnPropertyNames(r).forEach(t),Object.getOwnPropertySymbols(r).forEach(t)}const qe=/^[A-Za-z]:\//;function pe(r=""){return r&&r.replace(/\\/g,"/").replace(qe,e=>e.toUpperCase())}const Ue=/^[/\\]{2}/,Ye=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ze=/^[A-Za-z]:$/,Ve=/.(\.[^./]+|\.)$/,We=function(r){if(r.length===0)return".";r=pe(r);const e=r.match(Ue),t=re(r),n=r[r.length-1]==="/";return r=He(r,!t),r.length===0?t?"/":n?"./":".":(n&&(r+="/"),ze.test(r)&&(r+="/"),e?t?`//${r}`:`//./${r}`:t&&!re(r)?`/${r}`:r)},je=function(...r){let e="";for(const t of r)if(t)if(e.length>0){const n=e[e.length-1]==="/",i=t[0]==="/";n&&i?e+=t.slice(1):e+=n||i?t:`/${t}`}else e+=t;return We(e)};function He(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const c=t.lastIndexOf("/");c===-1?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const re=function(r){return Ye.test(r)},Ke=function(r){if(r==="..")return"";const e=Ve.exec(pe(r));return e&&e[1]||""};var Ze={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Ge=Object.entries(Ze);function G(r){return String(r)}G.open="";G.close="";function Qe(r=!1){let e=typeof process<"u"?process:void 0,t=(e==null?void 0:e.env)||{},n=(e==null?void 0:e.argv)||[];return!("NO_COLOR"in t||n.includes("--no-color"))&&("FORCE_COLOR"in t||n.includes("--color")||(e==null?void 0:e.platform)==="win32"||r&&t.TERM!=="dumb"||"CI"in t)||typeof window<"u"&&!!window.chrome}function et(r=!1){let e=Qe(r),t=(a,o,c,f)=>{let m="",y=0;do m+=a.substring(y,f)+c,y=f+o.length,f=a.indexOf(o,y);while(~f);return m+a.substring(y)},n=(a,o,c=a)=>{let f=m=>{let y=String(m),g=y.indexOf(o,a.length);return~g?a+t(y,o,c,g)+o:a+y+o};return f.open=a,f.close=o,f},i={isColorSupported:e},s=a=>`\x1B[${a}m`;for(let[a,o]of Ge)i[a]=e?n(s(o[0]),s(o[1]),o[2]):G;return i}et();function me(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function he(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var j={exports:{}},w={};/**
* @license React
* react-is.development.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ne;function tt(){return ne||(ne=1,function(){function r(l){if(typeof l=="object"&&l!==null){var P=l.$$typeof;switch(P){case e:switch(l=l.type,l){case n:case s:case i:case f:case m:case I:return l;default:switch(l=l&&l.$$typeof,l){case o:case c:case g:case y:return l;case a:return l;default:return P}}case t:return P}}}var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),I=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");w.ContextConsumer=a,w.ContextProvider=o,w.Element=e,w.ForwardRef=c,w.Fragment=n,w.Lazy=g,w.Memo=y,w.Portal=t,w.Profiler=s,w.StrictMode=i,w.Suspense=f,w.SuspenseList=m,w.isContextConsumer=function(l){return r(l)===a},w.isContextProvider=function(l){return r(l)===o},w.isElement=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===e},w.isForwardRef=function(l){return r(l)===c},w.isFragment=function(l){return r(l)===n},w.isLazy=function(l){return r(l)===g},w.isMemo=function(l){return r(l)===y},w.isPortal=function(l){return r(l)===t},w.isProfiler=function(l){return r(l)===s},w.isStrictMode=function(l){return r(l)===i},w.isSuspense=function(l){return r(l)===f},w.isSuspenseList=function(l){return r(l)===m},w.isValidElementType=function(l){return typeof l=="string"||typeof l=="function"||l===n||l===s||l===i||l===f||l===m||typeof l=="object"&&l!==null&&(l.$$typeof===g||l.$$typeof===y||l.$$typeof===o||l.$$typeof===a||l.$$typeof===c||l.$$typeof===T||l.getModuleId!==void 0)},w.typeOf=r}()),w}var ie;function rt(){return ie||(ie=1,j.exports=tt()),j.exports}var ye=rt(),nt=he(ye),it=me({__proto__:null,default:nt},[ye]),H={exports:{}},v={};/**
* @license React
* react-is.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oe;function ot(){return oe||(oe=1,function(){var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),T=!1,l=!1,P=!1,$=!1,A=!1,_;_=Symbol.for("react.module.reference");function M(d){return!!(typeof d=="string"||typeof d=="function"||d===t||d===i||A||d===n||d===f||d===m||$||d===I||T||l||P||typeof d=="object"&&d!==null&&(d.$$typeof===g||d.$$typeof===y||d.$$typeof===s||d.$$typeof===a||d.$$typeof===c||d.$$typeof===_||d.getModuleId!==void 0))}function S(d){if(typeof d=="object"&&d!==null){var V=d.$$typeof;switch(V){case r:var U=d.type;switch(U){case t:case i:case n:case f:case m:return U;default:var ee=U&&U.$$typeof;switch(ee){case o:case a:case c:case g:case y:case s:return ee;default:return V}}case e:return V}}}var C=a,O=s,p=r,h=c,N=t,u=g,x=y,q=e,b=i,L=n,E=f,J=m,k=!1,Q=!1;function Se(d){return k||(k=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function _e(d){return Q||(Q=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function ke(d){return S(d)===a}function Te(d){return S(d)===s}function Ie(d){return typeof d=="object"&&d!==null&&d.$$typeof===r}function be(d){return S(d)===c}function Re(d){return S(d)===t}function xe(d){return S(d)===g}function Pe(d){return S(d)===y}function Me(d){return S(d)===e}function $e(d){return S(d)===i}function Ae(d){return S(d)===n}function Ce(d){return S(d)===f}function Oe(d){return S(d)===m}v.ContextConsumer=C,v.ContextProvider=O,v.Element=p,v.ForwardRef=h,v.Fragment=N,v.Lazy=u,v.Memo=x,v.Portal=q,v.Profiler=b,v.StrictMode=L,v.Suspense=E,v.SuspenseList=J,v.isAsyncMode=Se,v.isConcurrentMode=_e,v.isContextConsumer=ke,v.isContextProvider=Te,v.isElement=Ie,v.isForwardRef=be,v.isFragment=Re,v.isLazy=xe,v.isMemo=Pe,v.isPortal=Me,v.isProfiler=$e,v.isStrictMode=Ae,v.isSuspense=Ce,v.isSuspenseList=Oe,v.isValidElementType=M,v.typeOf=S}()),v}var se;function st(){return se||(se=1,H.exports=ot()),H.exports}var ge=st(),at=he(ge),ct=me({__proto__:null,default:at},[ge]);const lt=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"];Object.fromEntries(lt.map(r=>[r,e=>ct[r](e)||it[r](e)]));let ut=()=>"Promise{…}";try{const{getPromiseDetails:r,kPending:e,kRejected:t}=process.binding("util");Array.isArray(r(Promise.resolve()))&&(ut=(n,i)=>{const[s,a]=r(n);return s===e?"Promise{<pending>}":`Promise${s===t?"!":""}{${i.inspect(a,i)}}`})}catch{}function ft(r){const{message:e="$$stack trace error",stackTraceLimit:t=1}=r||{},n=Error.stackTraceLimit,i=Error.prepareStackTrace;Error.stackTraceLimit=t,Error.prepareStackTrace=o=>o.stack;const a=new Error(e).stack||"";return Error.prepareStackTrace=i,Error.stackTraceLimit=n,a}var K,ae;function dt(){if(ae)return K;ae=1;var r,e,t,n,i,s,a,o,c,f,m,y,g,I,T,l,P,$,A;return g=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,y=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,r=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,T=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,m=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,l=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,A=/[\t\v\f\ufeff\p{Zs}]+/uy,o=/\r?\n|[\r\u2028\u2029]/y,c=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,I=/\/\/.*/y,t=/[<>.:={}]|\/(?![\/*])/y,e=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,n=/(['"])(?:(?!\1)[^])*(\1)?/y,i=/[^<>{}]+/y,$=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,P=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,f=RegExp(o.source),K=function*(_,{jsx:M=!1}={}){var S,C,O,p,h,N,u,x,q,b,L,E,J,k;for({length:N}=_,p=0,h="",k=[{tag:"JS"}],S=[],L=0,E=!1;p<N;){switch(x=k[k.length-1],x.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(_[p]==="/"&&($.test(h)||s.test(h))&&(g.lastIndex=p,u=g.exec(_))){p=g.lastIndex,h=u[0],E=!0,yield{type:"RegularExpressionLiteral",value:u[0],closed:u[1]!==void 0&&u[1]!=="\\"};continue}if(y.lastIndex=p,u=y.exec(_)){switch(J=u[0],q=y.lastIndex,b=J,J){case"(":h==="?NonExpressionParenKeyword"&&k.push({tag:"JSNonExpressionParen",nesting:L}),L++,E=!1;break;case")":L--,E=!0,x.tag==="JSNonExpressionParen"&&L===x.nesting&&(k.pop(),b="?NonExpressionParenEnd",E=!1);break;case"{":y.lastIndex=0,O=!P.test(h)&&($.test(h)||s.test(h)),S.push(O),E=!1;break;case"}":switch(x.tag){case"InterpolationInTemplate":if(S.length===x.nesting){l.lastIndex=p,u=l.exec(_),p=l.lastIndex,h=u[0],u[1]==="${"?(h="?InterpolationInTemplate",E=!1,yield{type:"TemplateMiddle",value:u[0]}):(k.pop(),E=!0,yield{type:"TemplateTail",value:u[0],closed:u[1]==="`"});continue}break;case"InterpolationInJSX":if(S.length===x.nesting){k.pop(),p+=1,h="}",yield{type:"JSXPunctuator",value:"}"};continue}}E=S.pop(),b=E?"?ExpressionBraceEnd":"}";break;case"]":E=!0;break;case"++":case"--":b=E?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(M&&($.test(h)||s.test(h))){k.push({tag:"JSXTag"}),p+=1,h="<",yield{type:"JSXPunctuator",value:J};continue}E=!1;break;default:E=!1}p=q,h=b,yield{type:"Punctuator",value:J};continue}if(r.lastIndex=p,u=r.exec(_)){switch(p=r.lastIndex,b=u[0],u[0]){case"for":case"if":case"while":case"with":h!=="."&&h!=="?."&&(b="?NonExpressionParenKeyword")}h=b,E=!s.test(u[0]),yield{type:u[1]==="#"?"PrivateIdentifier":"IdentifierName",value:u[0]};continue}if(T.lastIndex=p,u=T.exec(_)){p=T.lastIndex,h=u[0],E=!0,yield{type:"StringLiteral",value:u[0],closed:u[2]!==void 0};continue}if(m.lastIndex=p,u=m.exec(_)){p=m.lastIndex,h=u[0],E=!0,yield{type:"NumericLiteral",value:u[0]};continue}if(l.lastIndex=p,u=l.exec(_)){p=l.lastIndex,h=u[0],u[1]==="${"?(h="?InterpolationInTemplate",k.push({tag:"InterpolationInTemplate",nesting:S.length}),E=!1,yield{type:"TemplateHead",value:u[0]}):(E=!0,yield{type:"NoSubstitutionTemplate",value:u[0],closed:u[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(t.lastIndex=p,u=t.exec(_)){switch(p=t.lastIndex,b=u[0],u[0]){case"<":k.push({tag:"JSXTag"});break;case">":k.pop(),h==="/"||x.tag==="JSXTagEnd"?(b="?JSX",E=!0):k.push({tag:"JSXChildren"});break;case"{":k.push({tag:"InterpolationInJSX",nesting:S.length}),b="?InterpolationInJSX",E=!1;break;case"/":h==="<"&&(k.pop(),k[k.length-1].tag==="JSXChildren"&&k.pop(),k.push({tag:"JSXTagEnd"}))}h=b,yield{type:"JSXPunctuator",value:u[0]};continue}if(e.lastIndex=p,u=e.exec(_)){p=e.lastIndex,h=u[0],yield{type:"JSXIdentifier",value:u[0]};continue}if(n.lastIndex=p,u=n.exec(_)){p=n.lastIndex,h=u[0],yield{type:"JSXString",value:u[0],closed:u[2]!==void 0};continue}break;case"JSXChildren":if(i.lastIndex=p,u=i.exec(_)){p=i.lastIndex,h=u[0],yield{type:"JSXText",value:u[0]};continue}switch(_[p]){case"<":k.push({tag:"JSXTag"}),p++,h="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":k.push({tag:"InterpolationInJSX",nesting:S.length}),p++,h="?InterpolationInJSX",E=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(A.lastIndex=p,u=A.exec(_)){p=A.lastIndex,yield{type:"WhiteSpace",value:u[0]};continue}if(o.lastIndex=p,u=o.exec(_)){p=o.lastIndex,E=!1,a.test(h)&&(h="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:u[0]};continue}if(c.lastIndex=p,u=c.exec(_)){p=c.lastIndex,f.test(u[0])&&(E=!1,a.test(h)&&(h="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:u[0],closed:u[1]!==void 0};continue}if(I.lastIndex=p,u=I.exec(_)){p=I.lastIndex,E=!1,yield{type:"SingleLineComment",value:u[0]};continue}C=String.fromCodePoint(_.codePointAt(p)),p+=C.length,h=C,E=!1,yield{type:x.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:C}}},K}dt();var ve={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(ve.keyword);new Set(ve.strict);const ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt=new Uint8Array(64),mt=new Uint8Array(128);for(let r=0;r<ce.length;r++){const e=ce.charCodeAt(r);pt[r]=e,mt[e]=r}var le;(function(r){r[r.Empty=1]="Empty",r[r.Hash=2]="Hash",r[r.Query=3]="Query",r[r.RelativePath=4]="RelativePath",r[r.AbsolutePath=5]="AbsolutePath",r[r.SchemeRelative=6]="SchemeRelative",r[r.Absolute=7]="Absolute"})(le||(le={}));const ht=/^[A-Za-z]:\//;function yt(r=""){return r&&r.replace(/\\/g,"/").replace(ht,e=>e.toUpperCase())}const gt=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function vt(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const Et=function(...r){r=r.map(n=>yt(n));let e="",t=!1;for(let n=r.length-1;n>=-1&&!t;n--){const i=n>=0?r[n]:vt();!i||i.length===0||(e=`${i}/${e}`,t=ue(i))}return e=wt(e,!t),t&&!ue(e)?`/${e}`:e.length>0?e:"."};function wt(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const c=t.lastIndexOf("/");c===-1?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const ue=function(r){return gt.test(r)},Ee=/^\s*at .*(?:\S:\d+|\(native\))/m,St=/^(?:eval@)?(?:\[native code\])?$/;function we(r){if(!r.includes(":"))return[r];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/^\(|\)$/g,""));if(!t)return[r];let n=t[1];if(n.startsWith("async ")&&(n=n.slice(6)),n.startsWith("http:")||n.startsWith("https:")){const i=new URL(n);i.searchParams.delete("import"),i.searchParams.delete("browserv"),n=i.pathname+i.hash+i.search}if(n.startsWith("/@fs/")){const i=/^\/@fs\/[a-zA-Z]:\//.test(n);n=n.slice(i?5:4)}return[n,t[2]||void 0,t[3]||void 0]}function _t(r){let e=r.trim();if(St.test(e)||(e.includes(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!e.includes("@")&&!e.includes(":")))return null;const t=/((.*".+"[^@]*)?[^@]*)(@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,[s,a,o]=we(e.replace(t,""));return!s||!a||!o?null:{file:s,method:i||"",line:Number.parseInt(a),column:Number.parseInt(o)}}function kt(r){const e=r.trim();return Ee.test(e)?Tt(e):_t(e)}function Tt(r){let e=r.trim();if(!Ee.test(e))return null;e.includes("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const n=t.match(/ (\(.+\)$)/);t=n?t.replace(n[0],""):t;const[i,s,a]=we(n?n[1]:t);let o=n&&t||"",c=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!c||!s||!a?null:(o.startsWith("async ")&&(o=o.slice(6)),c.startsWith("file://")&&(c=c.slice(7)),c=c.startsWith("node:")||c.startsWith("internal:")?c:Et(c),o&&(o=o.replace(/__vite_ssr_import_\d+__\./g,"")),{method:o,file:c,line:Number.parseInt(s),column:Number.parseInt(a)})}function It(r){const e=(r==null?void 0:r.globalThisKey)||"__vitest_mocker__";function t(){return typeof globalThis[e]<"u"?globalThis[e]:new Proxy({},{get(n,i){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(i)}() is forbidden.`)}})}return{hoisted(n){if(typeof n!="function")throw new TypeError(`vi.hoisted() expects a function, but received a ${typeof n}`);return n()},mock(n,i){if(typeof n!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof n}`);const s=F("mock");t().queueMock(n,s,typeof i=="function"?()=>i(()=>t().importActual(n,s)):i)},unmock(n){if(typeof n!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,F("unmock"))},doMock(n,i){if(typeof n!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof n}`);const s=F("doMock");t().queueMock(n,s,typeof i=="function"?()=>i(()=>t().importActual(n,s)):i)},doUnmock(n){if(typeof n!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,F("doUnmock"))},async importActual(n){return t().importActual(n,F("importActual"))},async importMock(n){return t().importMock(n,F("importMock"))}}}function F(r){const t=ft({stackTraceLimit:5}).split(`
`),n=t.findIndex(s=>s.includes(` at Object.${r}`)||s.includes(`${r}@`)),i=kt(t[n+1]);return(i==null?void 0:i.file)||""}const{now:fe}=Date;class bt{constructor(e,t,n,i){R(this,"registry",new de);R(this,"queue",new Set);R(this,"mockedIds",new Set);this.interceptor=e,this.rpc=t,this.spyOn=n,this.config=i}async prepare(){this.queue.size&&await Promise.all([...this.queue.values()])}async resolveFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return await t.resolve()}getFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!t.cache)throw new Error(`Mock ${e} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return t.cache}async invalidate(){const e=Array.from(this.mockedIds);e.length&&(await this.rpc.invalidate(e),await this.interceptor.invalidate(),this.registry.clear())}async importActual(e,t){const n=await this.rpc.resolveId(e,t);if(n==null)throw new Error(`[vitest] Cannot resolve "${e}" imported from "${t}"`);const i=Ke(n.id),s=new URL(n.url,location.href),a=`_vitest_original&ext${i}`,o=`${s.pathname}${s.search?`${s.search}&${a}`:`?${a}`}${s.hash}`;return this.wrapDynamicImport(()=>import(o)).then(c=>{if(!n.optimized||typeof c.default>"u")return c;const f=c.default;return f!=null&&f.__esModule?f:{...typeof f=="object"&&!Array.isArray(f)||typeof f=="function"?f:{},default:f}})}async importMock(e,t){await this.prepare();const{resolvedId:n,resolvedUrl:i,redirectUrl:s}=await this.rpc.resolveMock(e,t,{mock:"auto"}),a=this.resolveMockPath(D(i));let o=this.registry.get(a);if(!o)if(s){const c=new URL(this.resolveMockPath(D(s)),location.href).toString();o=new X(e,n,a,c)}else o=new Y(e,n,a);if(o.type==="manual")return await o.resolve();if(o.type==="automock"||o.type==="autospy"){const c=new URL(`/@id/${n}`,location.href),f=c.search?`${c.search}&t=${fe()}`:`?t=${fe()}`,m=await Je(()=>import(`${c.pathname}${f}&mock=${o.type}${c.hash}`),[],import.meta.url);return this.mockObject(m,o.type)}return import(o.redirect)}mockObject(e,t="automock"){return Fe({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:t},e)}queueMock(e,t,n){const i=this.rpc.resolveMock(e,t,{mock:typeof n=="function"?"factory":n!=null&&n.spy?"spy":"auto"}).then(async({redirectUrl:s,resolvedId:a,resolvedUrl:o,needsInterop:c,mockType:f})=>{const m=this.resolveMockPath(D(o));this.mockedIds.add(a);const y=typeof n=="function"?async()=>{const T=await n();return c?{default:T}:T}:void 0,g=typeof s=="string"?new URL(this.resolveMockPath(D(s)),location.href).toString():null;let I;f==="manual"?I=this.registry.register("manual",e,a,m,y):f==="autospy"?I=this.registry.register("autospy",e,a,m):f==="redirect"?I=this.registry.register("redirect",e,a,m,g):I=this.registry.register("automock",e,a,m),await this.interceptor.register(I)}).finally(()=>{this.queue.delete(i)});this.queue.add(i)}queueUnmock(e,t){const n=this.rpc.resolveId(e,t).then(async i=>{if(!i)return;const s=this.resolveMockPath(D(i.url));this.mockedIds.add(i.id),this.registry.delete(s),await this.interceptor.delete(s)}).finally(()=>{this.queue.delete(n)});this.queue.add(n)}wrapDynamicImport(e){return typeof e=="function"?new Promise((n,i)=>{this.prepare().finally(()=>{e().then(n,i)})}):e}resolveMockPath(e){const t=this.config,n=je("/@fs/",t.root);return e.startsWith(t.root)?e.slice(t.root.length):e.startsWith(n)?e.slice(n.length):e}}const Rt=/(\?|&)v=\w{8}/;function D(r){return r.replace(Rt,"")}class xt{constructor(){R(this,"mocks",new de)}async register(e){this.mocks.add(e)}async delete(e){this.mocks.delete(e)}async invalidate(){this.mocks.clear()}}const Z=r=>{switch(r){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}};class Pt extends bt{queueMock(){}}function Mt(r){const e=new Pt(r("__vitest_mocker__"),{resolveId(t,n){return Z("resolveId")},resolveMock(t,n,i){return Z("resolveMock")},async invalidate(t){return Z("invalidate")}},(...t)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...t),{root:""});return globalThis.__vitest_mocker__=e,It({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=Mt(()=>new xt);
